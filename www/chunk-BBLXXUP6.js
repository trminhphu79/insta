import{a as Q,b as j,c as x,d as W,e as A}from"./chunk-WWZI7M4W.js";import"./chunk-65JDVV36.js";import{$ as o,$a as P,Bb as K,E as H,Ea as J,Fb as D,Gb as F,Ib as O,J as r,Lb as k,M as v,Rb as V,U as m,V as d,Z as g,Za as c,_ as i,_a as I,aa as f,ab as R,bb as C,cb as N,eb as G,fb as M,ib as q,ja as b,la as p,sa as L,va as s,wa as h,x as y,zb as E}from"./chunk-5G3JQQIL.js";import"./chunk-UOIN7AL5.js";import"./chunk-QUJFQN2Y.js";import"./chunk-3RQY4ML3.js";import"./chunk-2VMTP56Z.js";import"./chunk-62PR5BGO.js";import"./chunk-Y2PDZ72K.js";import"./chunk-QNQ7HPGK.js";import"./chunk-URWANECN.js";import"./chunk-P55UMIV5.js";import"./chunk-7FY2OE2O.js";import"./chunk-SX5ZWHL7.js";import"./chunk-K5TYQZIT.js";import"./chunk-XUIXCEXB.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-4BRMN3ZK.js";import"./chunk-CKP3SGE2.js";import"./chunk-GMU3SYHH.js";import"./chunk-GOEAN3WI.js";import"./chunk-SNC2IU6J.js";import"./chunk-5SDHGKAM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";function ee(e,t){e&1&&(i(0,"ion-text",9),s(1,"Email is invalid!"),o())}function te(e,t){e&1&&(i(0,"ion-text",9),s(1,"Email is required!"),o())}function ne(e,t){if(e&1&&m(0,ee,2,0,"ion-text",9)(1,te,2,0,"ion-text",9),e&2){let n,a=p();d((n=a.form.get("email"))!=null&&n.hasError("email")?0:(n=a.form.get("email"))!=null&&n.hasError("required")?1:-1)}}function ie(e,t){e&1&&(i(0,"ion-text",9),s(1,"Password is required!"),o())}function oe(e,t){if(e&1&&m(0,ie,2,0,"ion-text",9),e&2){let n,a=p();d((n=a.form.get("password"))!=null&&n.hasError("required")?0:-1)}}function le(e,t){e&1&&f(0,"ion-spinner",8)}var Y=(()=>{let t=class t{constructor(){this.authStore=y(j),this.isLoading=this.authStore.loading,this.form=new R({email:new C(null,x([c.email,c.required])),password:new C(null,x([c.required,c.minLength(8),c.maxLength(20)]))})}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.authStore.login(this.form.getRawValue())}};t.\u0275fac=function(u){return new(u||t)},t.\u0275cmp=v({type:t,selectors:[["insta-login"]],decls:17,vars:7,consts:[[1,"w-full","flex","flex-col","items-center",3,"submit","formGroup"],[1,"w-full","max-w-94"],["type","email","label","Email","formControlName","email","labelPlacement","floating"],[1,"h-[20px]","text-sm"],["label","Password","type","password","formControlName","password","labelPlacement","floating","placeholder","Enter password"],["slot","end"],[1,"w-full","justify-center","flex"],["size","default","type","submit","shape","round",1,"mt-8","w-full","max-w-94",3,"disabled"],[1,"absolute"],["color","danger"]],template:function(u,l){if(u&1&&(i(0,"form",0),b("submit",function(){return l.submit()}),i(1,"section",1)(2,"ion-item"),f(3,"ion-input",2),o(),i(4,"div",3),m(5,ne,2,1),o()(),i(6,"section",1)(7,"ion-item",1)(8,"ion-input",4)(9,"ion-input-password-toggle",5),s(10," > "),o()()(),i(11,"div",3),m(12,oe,1,1),o()(),i(13,"section",6)(14,"ion-button",7),m(15,le,1,0,"ion-spinner",8),s(16," Login"),o()()()),u&2){let _,S,T;g("formGroup",l.form),r(5),d((_=l.form.get("email"))!=null&&_.touched?5:-1),r(4),L("visibility",(S=l.form.get("password"))!=null&&S.value?"visible":"hidden"),r(3),d((T=l.form.get("password"))!=null&&T.touched?12:-1),r(2),g("disabled",l.isLoading()||l.form.invalid),r(),d(l.isLoading()?15:-1)}},dependencies:[k,F,E,V,O,q,N,I,P,G,M,D],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]     ion-item{--padding-start: 0px !important}"],changeDetection:0});let e=t;return e})();function ae(e,t){e&1&&(i(0,"ion-text",11),s(1,"Email is invalid!"),o())}function re(e,t){e&1&&(i(0,"ion-text",11),s(1,"Email is required!"),o())}function se(e,t){if(e&1&&m(0,ae,2,0,"ion-text",11)(1,re,2,0,"ion-text",11),e&2){let n,a=p();d((n=a.form.get("email"))!=null&&n.hasError("email")?0:(n=a.form.get("email"))!=null&&n.hasError("required")?1:-1)}}function me(e,t){e&1&&(i(0,"ion-text",11),s(1,"Username is required!"),o())}function de(e,t){if(e&1&&m(0,me,2,0,"ion-text",11),e&2){let n,a=p();d((n=a.form.get("username"))!=null&&n.hasError("required")?0:-1)}}function ce(e,t){e&1&&(i(0,"ion-text",11),s(1,"Password is required!"),o())}function ue(e,t){if(e&1&&(i(0,"ion-text",11),s(1),o()),e&2){let n=p(2);r(),h(n.passwordMessages.minLength)}}function pe(e,t){if(e&1&&(i(0,"ion-text",11),s(1),o()),e&2){let n=p(2);r(),h(n.passwordMessages.maxLength)}}function fe(e,t){if(e&1&&(i(0,"ion-text",11),s(1),o()),e&2){let n=p(2);r(),h(n.passwordMessages.uppercase)}}function _e(e,t){if(e&1&&(i(0,"ion-text",11),s(1),o()),e&2){let n=p(2);r(),h(n.passwordMessages.number)}}function ge(e,t){if(e&1&&m(0,ce,2,0,"ion-text",11)(1,ue,2,1,"ion-text",11)(2,pe,2,1,"ion-text",11)(3,fe,2,1,"ion-text",11)(4,_e,2,1,"ion-text",11),e&2){let n,a=p();d((n=a.form.get("password"))!=null&&n.hasError("required")?0:(n=a.form.get("password"))!=null&&n.hasError("minLength")?1:(n=a.form.get("password"))!=null&&n.hasError("maxLength")?2:(n=a.form.get("password"))!=null&&n.hasError("uppercase")?3:(n=a.form.get("password"))!=null&&n.hasError("number")?4:-1)}}function Ce(e,t){e&1&&(i(0,"ion-text",11),s(1,"Confirm password is required!"),o())}function xe(e,t){e&1&&(i(0,"ion-text",11),s(1,"Passwords do not match!"),o())}function he(e,t){if(e&1&&m(0,Ce,2,0,"ion-text",11)(1,xe,2,0,"ion-text",11),e&2){let n,a=p();d((n=a.form.get("confirmPassword"))!=null&&n.hasError("required")?0:a.form.hasError("controlMismatch")?1:-1)}}function we(e,t){e&1&&f(0,"ion-spinner",10)}var Z=(()=>{let t=class t{constructor(){this.authStore=y(j),this.toastService=y(Q),this.isLoading=this.authStore.loading,this.passwordMessages={minLength:"Password must be at least 8 characters long.",maxLength:"Password must not exceed 20 characters.",uppercase:"Password must contain at least one uppercase letter.",number:"Password must contain at least one number."},this.form=new R({email:new C(null,x([c.email,c.required])),username:new C(null,x([c.required])),password:new C(null,x([c.required,c.minLength(8),c.maxLength(20),A()])),confirmPassword:new C(null,x([c.required,c.minLength(8),c.maxLength(20),A()]))},{validators:[W("password","confirmPassword")]})}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.authStore.register(this.form.value)}};t.\u0275fac=function(u){return new(u||t)},t.\u0275cmp=v({type:t,selectors:[["insta-register"]],decls:29,vars:11,consts:[[1,"w-full","flex","flex-col","items-center",3,"submit","formGroup"],[1,"w-full","max-w-94"],["formControlName","email","label","Email","type","email","labelPlacement","floating","placeholder","Enter email"],[1,"h-[20px]","text-sm"],["formControlName","username","label","Username","type","text","labelPlacement","floating","placeholder","Enter username"],["formControlName","password","label","Password","type","password","labelPlacement","floating","placeholder","Enter password"],["slot","end"],["formControlName","confirmPassword","label","Confirm password","type","password","labelPlacement","floating","placeholder","Enter confirm password"],[1,"w-full","justify-center","flex"],["size","default","type","submit","shape","round",1,"mt-8","w-full","max-w-94",3,"disabled"],[1,"absolute"],["color","danger"]],template:function(u,l){if(u&1&&(i(0,"form",0),b("submit",function(){return l.submit()}),i(1,"section",1)(2,"ion-item"),f(3,"ion-input",2),o(),i(4,"div",3),m(5,se,2,1),o()(),i(6,"section",1)(7,"ion-item"),f(8,"ion-input",4),o(),i(9,"div",3),m(10,de,1,1),o()(),i(11,"section",1)(12,"ion-item")(13,"ion-input",5)(14,"ion-input-password-toggle",6),s(15," > "),o()()(),i(16,"div",3),m(17,ge,5,1),o()(),i(18,"section",1)(19,"ion-item")(20,"ion-input",7)(21,"ion-input-password-toggle",6),s(22," > "),o()()(),i(23,"div",3),m(24,he,2,1),o()(),i(25,"section",8)(26,"ion-button",9),m(27,we,1,0,"ion-spinner",10),s(28," Sign up "),o()()()),u&2){let _,S,T,z,B,U;g("formGroup",l.form),r(5),d((_=l.form.get("email"))!=null&&_.touched?5:-1),r(5),d((S=l.form.get("username"))!=null&&S.touched?10:-1),r(4),L("visibility",(T=l.form.get("password"))!=null&&T.value?"visible":"hidden"),r(3),d((z=l.form.get("password"))!=null&&z.touched?17:-1),r(4),L("visibility",(B=l.form.get("confirmPassword"))!=null&&B.value?"visible":"hidden"),r(3),d((U=l.form.get("confirmPassword"))!=null&&U.touched?24:-1),r(2),g("disabled",l.isLoading()||l.form.invalid),r(),d(l.isLoading()?27:-1)}},dependencies:[k,F,E,V,O,q,N,I,P,G,M,D],styles:["[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]     ion-item{--padding-start: 0px !important}"],changeDetection:0});let e=t;return e})();function ve(e,t){e&1&&f(0,"insta-login")}function be(e,t){e&1&&f(0,"insta-register")}var w=(function(e){return e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e})(w||{}),Je=(()=>{let t=class t{constructor(){this.authTabEnum=w,this.selectedTab=H(w.LOGIN),this.actionLabel=J(()=>this.selectedTab()==w.LOGIN?"Create new account":"Login with account")}actionClick(){if(this.selectedTab()==w.LOGIN){this.selectedTab.set(w.REGISTER);return}this.selectedTab.set(w.LOGIN)}};t.\u0275fac=function(u){return new(u||t)},t.\u0275cmp=v({type:t,selectors:[["insta-auth"]],decls:9,vars:3,consts:[[3,"fullscreen"],[1,"w-full","h-full","flex","justify-start","pt-[120px]","flex-col","px-4"],[1,"block","justify-center","flex","mb-8"],["src","assets/svgs/logo.svg","width","150"],[1,"flex","w-full","justify-center","absolute","bottom-10","md:bottom-50","px-4"],["size","default","fill","outline","type","button","shape","round",1,"w-full","max-w-94",3,"click"]],template:function(u,l){if(u&1&&(i(0,"ion-content",0)(1,"section",1)(2,"section",2),f(3,"img",3),o(),m(4,ve,1,0,"insta-login")(5,be,1,0,"insta-register"),o(),i(6,"section",4)(7,"ion-button",5),b("click",function(){return l.actionClick()}),s(8),o()()()),u&2){let _;g("fullscreen",!0),r(4),d((_=l.selectedTab())===l.authTabEnum.LOGIN?4:5),r(4),h(l.actionLabel())}},dependencies:[E,K,Y,Z],encapsulation:2,changeDetection:0});let e=t;return e})();export{Je as AuthComponent};
